require('dotenv').config();
const mysql = require('mysql2/promise');

async function updateTours() {
    let connection;

    try {
        console.log('üîÑ –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...');

        connection = await mysql.createConnection({
            host: process.env.DB_HOST || 'localhost',
            user: process.env.DB_USER || 'root',
            password: process.env.DB_PASS || '',
            database: process.env.DB_NAME || 'tours_db'
        });

        console.log('‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!');

        // –û—á–∏—â–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—É—Ä—ã
        console.log('üóëÔ∏è –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ —Ç—É—Ä—ã...');
        await connection.execute('DELETE FROM tours');
        console.log('‚úÖ –¢—É—Ä—ã –æ—á–∏—â–µ–Ω—ã');

        // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –ø–æ—Ö–æ–¥—ã
        console.log('üèñÔ∏è –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –ø–æ—Ö–æ–¥—ã...');
        const toursData = [
            ['–ü–æ—Ö–æ–¥ –ø–æ –ë—Ä–∞—Å–ª–∞–≤—Å–∫–∏–º –æ–∑—ë—Ä–∞–º', '–£–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –≤–æ–¥–Ω—ã–π –ø–æ—Ö–æ–¥ –ø–æ –∫—Ä–∞—Å–∏–≤–µ–π—à–∏–º –æ–∑–µ—Ä–∞–º –ë–µ–ª–∞—Ä—É—Å–∏. –ü–æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ—Å—å —Å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –ø—Ä–∏—Ä–æ–¥–æ–π, —É–≤–∏–¥–∏—Ç–µ —Ä–µ–¥–∫–∏—Ö –ø—Ç–∏—Ü –∏ –Ω–∞—Å–ª–∞–¥–∏—Ç–µ—Å—å —á–∏—Å—Ç–æ–π –≤–æ–¥–æ–π. –ú–∞—Ä—à—Ä—É—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É interconnected –æ–∑–µ—Ä —Å –∂–∏–≤–æ–ø–∏—Å–Ω—ã–º–∏ –±–µ—Ä–µ–≥–∞–º–∏ –∏ —á–∏—Å—Ç–µ–π—à–µ–π –≤–æ–¥–æ–π.', '2025-06-15', 'bratslav-lakes.jpg', 'nature', 5],
            ['–ü–æ—Ö–æ–¥ –ø–æ –ü–æ–ª–µ—Å—Å–∫–æ–º—É —Ä–∞–¥–∏–∞—Ü–∏–æ–Ω–Ω–æ-—ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º—É –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫—É', '–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç—É—Ä –ø–æ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏, –ø–æ—Å—Ç—Ä–∞–¥–∞–≤—à–µ–π –æ—Ç –ß–µ—Ä–Ω–æ–±—ã–ª—å—Å–∫–æ–π –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã. –£–∑–Ω–∞–µ—Ç–µ –æ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è—Ö –∞–≤–∞—Ä–∏–∏ –∏ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ–º –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–∏ –ø—Ä–∏—Ä–æ–¥—ã –≤ –∑–æ–Ω–µ –æ—Ç—á—É–∂–¥–µ–Ω–∏—è. –£–Ω–∏–∫–∞–ª—å–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ –ø—Ä–∏—Ä–æ–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∑–∞–±—Ä–æ—à–µ–Ω–Ω—ã–µ –∑–µ–º–ª–∏.', '2025-07-01', 'polesie-reserve.jpg', 'eco', 4],
            ['–ü–æ—Ö–æ–¥ –Ω–∞ –∑–∞–±—Ä–æ—à–µ–Ω–Ω—ã–π –¥–µ—Ç—Å–∫–∏–π –ª–∞–≥–µ—Ä—å "–ó–≤—ë–∑–¥–Ω—ã–π"', '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–æ—Ö–æ–¥ –∫ –æ—Å—Ç–∞—Ç–∫–∞–º —Å–æ–≤–µ—Ç—Å–∫–æ–≥–æ –ø–∏–æ–Ω–µ—Ä—Å–∫–æ–≥–æ –ª–∞–≥–µ—Ä—è. –£–∑–Ω–∞–µ—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –º–µ—Å—Ç–∞, —É–≤–∏–¥–∏—Ç–µ –∑–∞–±—Ä–æ—à–µ–Ω–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ –∏ –ø–æ—á—É–≤—Å—Ç–≤—É–µ—Ç–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –∑–∞–±—Ä–æ—à–µ–Ω–Ω–æ—Å—Ç–∏. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π urbex –∏ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–≤–µ—Ç—Å–∫–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞.', '2025-08-10', 'star-camp.jpg', 'urban', 4],
            ['–ü–æ—Ö–æ–¥ –ø–æ –±–æ–ª–æ—Ç—É "–ï–ª—å–Ω—è"', '–ü—Ä–∏–∫–ª—é—á–µ–Ω—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç —á–µ—Ä–µ–∑ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –±–æ–ª–æ—Ç–æ —Å —Ä–µ–¥–∫–æ–π —Ñ–ª–æ—Ä–æ–π –∏ —Ñ–∞—É–Ω–æ–π. –ü—Ä–æ–π–¥–µ—Ç–µ –ø–æ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–º –≥–∞—Ç—è–º, —É–≤–∏–¥–∏—Ç–µ –Ω–µ—Ç—Ä–æ–Ω—É—Ç—É—é –ø—Ä–∏—Ä–æ–¥—É –ü–æ–ª–µ—Å—å—è –∏ —É—Å–ª—ã—à–∏—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–≤—É–∫–∏ –±–æ–ª–æ—Ç–Ω–æ–≥–æ –º–∏—Ä–∞. –ú–∞—Ä—à—Ä—É—Ç —Å—Ä–µ–¥–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.', '2025-05-20', 'yelnya-swamp.jpg', 'nature', 5]
        ];

        for (const tour of toursData) {
            await connection.execute(
                'INSERT INTO tours (toursName, toursDesc, toursDate, toursCover, toursArticle, toursRating) VALUES (?, ?, ?, ?, ?, ?)',
                tour
            );
        }

        console.log('‚úÖ –ü–æ—Ö–æ–¥—ã —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã!');
        console.log('üìã –ù–æ–≤—ã–µ –ø–æ—Ö–æ–¥—ã:');
        toursData.forEach((tour, i) => {
            console.log(`  ${i+1}. ${tour[0]} (${tour[2]})`);
        });

    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞:');
        console.error(error.message);
    } finally {
        if (connection) {
            await connection.end();
        }
    }
}

updateTours();
