require('dotenv').config();
const mysql = require('mysql2/promise');
const crypto = require('crypto');

async function seedData() {
    let connection;

    try {
        console.log('üîÑ –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...');

        connection = await mysql.createConnection({
            host: process.env.DB_HOST || 'localhost',
            user: process.env.DB_USER || 'root',
            password: process.env.DB_PASS || '',
            database: process.env.DB_NAME || 'tours_db'
        });

        console.log('‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!');

        // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞
        console.log('üë§ –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞...');
        const adminPassword = crypto.createHash('md5').update('admin123').digest();
        await connection.execute(
            'INSERT INTO admins (adminsName, adminsEmail, adminsPassword) VALUES (?, ?, ?)',
            ['Admin User', 'admin@voyariestuff.com', adminPassword]
        );

        // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
        console.log('üë§ –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞...');
        const clientPassword = crypto.createHash('md5').update('client123').digest();
        await connection.execute(
            'INSERT INTO clients (clientsName, clientsEmail, clientsPassword) VALUES (?, ?, ?)',
            ['Test Client', 'client@example.com', clientPassword]
        );

        // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —Ç—É—Ä—ã
        console.log('üèñÔ∏è –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –ø–æ—Ö–æ–¥—ã...');
        const toursData = [
            ['–ë—Ä–∞—Å–ª–∞–≤—Å–∫–∏–µ –æ–∑—ë—Ä–∞', '–£–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –≤–æ–¥–Ω—ã–π –ø–æ—Ö–æ–¥ –ø–æ –∫—Ä–∞—Å–∏–≤–µ–π—à–∏–º –æ–∑–µ—Ä–∞–º –ë–µ–ª–∞—Ä—É—Å–∏. –ü–æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ—Å—å —Å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –ø—Ä–∏—Ä–æ–¥–æ–π, —É–≤–∏–¥–∏—Ç–µ —Ä–µ–¥–∫–∏—Ö –ø—Ç–∏—Ü –∏ –Ω–∞—Å–ª–∞–¥–∏—Ç–µ—Å—å —á–∏—Å—Ç–æ–π –≤–æ–¥–æ–π. –ú–∞—Ä—à—Ä—É—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –æ–∑–µ—Ä —Å –∂–∏–≤–æ–ø–∏—Å–Ω—ã–º–∏ –±–µ—Ä–µ–≥–∞–º–∏. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 3 –¥–Ω—è. –°–ª–æ–∂–Ω–æ—Å—Ç—å: —Å—Ä–µ–¥–Ω—è—è.', '2025-06-15', '/images/bratslav-lakes.jpg', 'nature', 5],
            ['–ü–æ–ª–µ—Å—Å–∫–∏–π –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫', '–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç—É—Ä –ø–æ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏, –ø–æ—Å—Ç—Ä–∞–¥–∞–≤—à–µ–π –æ—Ç –ß–µ—Ä–Ω–æ–±—ã–ª—å—Å–∫–æ–π –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã. –£–∑–Ω–∞–µ—Ç–µ –æ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è—Ö –∞–≤–∞—Ä–∏–∏ –∏ –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–∏ –ø—Ä–∏—Ä–æ–¥—ã –≤ –∑–æ–Ω–µ –æ—Ç—á—É–∂–¥–µ–Ω–∏—è. –£–Ω–∏–∫–∞–ª—å–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–≤–∏–¥–µ—Ç—å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–∏—Ä–æ–¥—ã. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 2 –¥–Ω—è. –°–ª–æ–∂–Ω–æ—Å—Ç—å: –ª–µ–≥–∫–∞—è.', '2025-07-01', '/images/polesie-reserve.jpg', 'eco', 4],
            ['–õ–∞–≥–µ—Ä—å "–ó–≤—ë–∑–¥–Ω—ã–π"', '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–æ—Ö–æ–¥ –∫ –æ—Å—Ç–∞—Ç–∫–∞–º —Å–æ–≤–µ—Ç—Å–∫–æ–≥–æ –ø–∏–æ–Ω–µ—Ä—Å–∫–æ–≥–æ –ª–∞–≥–µ—Ä—è. –£–∑–Ω–∞–µ—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –º–µ—Å—Ç–∞, —É–≤–∏–¥–∏—Ç–µ –∑–∞–±—Ä–æ—à–µ–Ω–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ –∏ –ø–æ—á—É–≤—Å—Ç–≤—É–µ—Ç–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –∑–∞–±—Ä–æ—à–µ–Ω–Ω–æ—Å—Ç–∏. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π urbex. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 1 –¥–µ–Ω—å. –°–ª–æ–∂–Ω–æ—Å—Ç—å: –ª–µ–≥–∫–∞—è.', '2025-08-10', '/images/star-camp.jpg', 'urban', 4],
            ['–ë–æ–ª–æ—Ç–æ "–ï–ª—å–Ω—è"', '–ü—Ä–∏–∫–ª—é—á–µ–Ω—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç —á–µ—Ä–µ–∑ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –±–æ–ª–æ—Ç–æ —Å —Ä–µ–¥–∫–æ–π —Ñ–ª–æ—Ä–æ–π –∏ —Ñ–∞—É–Ω–æ–π. –ü—Ä–æ–π–¥–µ—Ç–µ –ø–æ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–º –≥–∞—Ç—è–º, —É–≤–∏–¥–∏—Ç–µ –Ω–µ—Ç—Ä–æ–Ω—É—Ç—É—é –ø—Ä–∏—Ä–æ–¥—É –ü–æ–ª–µ—Å—å—è –∏ —É—Å–ª—ã—à–∏—Ç–µ –∑–≤—É–∫–∏ –±–æ–ª–æ—Ç–Ω–æ–≥–æ –º–∏—Ä–∞. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 2 –¥–Ω—è. –°–ª–æ–∂–Ω–æ—Å—Ç—å: —Å—Ä–µ–¥–Ω—è—è.', '2025-05-20', '/images/yelnya-swamp.jpg', 'nature', 5],
            ['–î—Ä–µ—Ç—É–Ω—å—Å–∫–∏–π –ø–æ–ª–∏–≥–æ–Ω', '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–æ—Ö–æ–¥ –ø–æ –∑–∞–±—Ä–æ—à–µ–Ω–Ω–æ–º—É –≤–æ–µ–Ω–Ω–æ–º—É –ø–æ–ª–∏–≥–æ–Ω—É –î—Ä–µ—Ç—É–Ω—å. –£–∑–Ω–∞–µ—Ç–µ –∏—Å—Ç–æ—Ä–∏—é —Å–æ–≤–µ—Ç—Å–∫–æ–π –≤–æ–µ–Ω–Ω–æ–π –±–∞–∑—ã, —É–≤–∏–¥–∏—Ç–µ –æ—Å—Ç–∞—Ç–∫–∏ –≤–æ–µ–Ω–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏ –∏ —Å–æ–æ—Ä—É–∂–µ–Ω–∏–π. –£–Ω–∏–∫–∞–ª—å–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –∑–∞–±—ã—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–∏. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 2 –¥–Ω—è. –°–ª–æ–∂–Ω–æ—Å—Ç—å: —Å—Ä–µ–¥–Ω—è—è.', '2025-09-15', '/images/dretun-polygon.jpg', 'military', 4],
            ['–û–∑–µ—Ä–æ "–í–æ—Ä–æ–Ω–µ—Ü"', '–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ö–æ–¥ –∫ –∂–∏–≤–æ–ø–∏—Å–Ω–æ–º—É –æ–∑–µ—Ä—É –í–æ—Ä–æ–Ω–µ—Ü –≤ –ë—Ä–∞—Å–ª–∞–≤—Å–∫–æ–º —Ä–∞–π–æ–Ω–µ. –ù–∞—Å–ª–∞–¥–∏—Ç–µ—Å—å –∫—Ä–∏—Å—Ç–∞–ª—å–Ω–æ —á–∏—Å—Ç–æ–π –≤–æ–¥–æ–π, –ø–æ—Å–µ—Ç–∏—Ç–µ –æ—Å—Ç—Ä–æ–≤ —Å –¥—Ä–µ–≤–Ω–∏–º –º–æ–Ω–∞—Å—Ç—ã—Ä–µ–º –∏ –æ—Ç–¥–æ—Ö–Ω–∏—Ç–µ –Ω–∞ –ø–µ—Å—á–∞–Ω—ã—Ö –ø–ª—è–∂–∞—Ö. –ò–¥–µ–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —Å–ø–æ–∫–æ–π–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞ –Ω–∞ –ø—Ä–∏—Ä–æ–¥–µ. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 3 –¥–Ω—è. –°–ª–æ–∂–Ω–æ—Å—Ç—å: –ª–µ–≥–∫–∞—è.', '2025-08-01', '/images/voronets-lake.jpg', 'nature', 5]
        ];

        for (const tour of toursData) {
            await connection.execute(
                'INSERT INTO tours (toursName, toursDesc, toursDate, toursCover, toursArticle, toursRating) VALUES (?, ?, ?, ?, ?, ?)',
                tour
            );
        }

        console.log('üéâ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã!');
        console.log('');
        console.log('üìã –¢–µ—Å—Ç–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏:');
        console.log('   –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: admin@voyariestuff.com / admin123');
        console.log('   –ö–ª–∏–µ–Ω—Ç: client@example.com / client123');

    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:');
        console.error(error.message);
    } finally {
        if (connection) {
            await connection.end();
        }
    }
}

seedData();
